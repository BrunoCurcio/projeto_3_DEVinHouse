package entities;

public class Trap implements Dice{
	
	int atkPoints;
	Weapons weapon;
	
	public Trap() {

		this.atkPoints = 5;
		this.weapon = Weapons.TRAP;
	}

	@Override
	public void rollToAttack(Character defender) {
		int diceResult = this.D10();
		if (diceResult == 1) {
			System.out.println("O ataque da armadilha pegou de raspão e você não sofreu dano.");
		} else {
			int deliveredAtk = this.atkPoints + diceResult + this.weapon.getAtkPower();
			int damageTaken = defender.takeDamage(deliveredAtk, false);
			
			if (damageTaken < 1) {
				System.out.println("A flecha pegou de raspão na armadura e você não sofreu dano!");
			} else {
				System.out.printf("Você sofreu %d de dano e agora possui %d pontos de vida.%n", damageTaken, defender.getHealthPoints());				
			}
		}
	}

}
